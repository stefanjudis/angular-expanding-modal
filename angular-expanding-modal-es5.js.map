{"version":3,"sources":["angular-expanding-modal.js"],"names":[],"mappings":"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","file":"angular-expanding-modal-es5.js","sourcesContent":["/* global angular */\n\n/*\n * @license\n * angular-expanding-modal v1.0.0\n * License: MIT\n */\n\n;( function( window, ng ) {\n  'use strict';\n\n  function ExpandingModal( $compile, $rootScope, $controller, $q, $http, $templateCache ) {\n    return {\n      create : config => {\n        if ( ! ( ! config.template ^ ! config.templateUrl ) ) {\n          throw new Error('Expected modal to have exacly one of either `template` or `templateUrl`');\n        }\n\n        let template      = config.template;\n        let container     = ng.element( config.container || document.body );\n        let controller    = config.controller || null;\n        let controllerAs  = config.controllerAs;\n        let element       = null;\n        let html\n        let target;\n        let scope;\n\n        if ( config.template ) {\n          html = $q.when( config.template );\n        } else {\n          html = $http.get( config.templateUrl, {\n            cache : $templateCache\n          } ).then( function ( response ) {\n            return response.data;\n          } );\n        }\n\n        function _setPrefixedProperty( element, prop, value ) {\n          element.style[ prop ] = value;\n          element.style[ '-webkit-' + prop ] = value;\n        }\n\n        function attach( html, targetElem, locals = {} ) {\n          target = targetElem;\n\n          element = ng.element( html );\n\n          if ( element.length === 0 ) {\n            throw new Error('The template contains no elements; you need to wrap text nodes');\n          }\n          scope = $rootScope.$new();\n\n          if ( controller ) {\n            locals.$scope = scope;\n\n            var ctrl = $controller( controller, locals );\n\n            if ( controllerAs ) {\n              scope[ controllerAs ] = ctrl;\n            }\n          } else if ( locals ) {\n            for ( let prop in locals ) {\n              scope[ prop ] = locals[ prop ];\n            }\n          }\n\n          $compile( element )( scope );\n\n          element[ 0 ].style.opacity = 0;\n\n          container.append( element[ 0 ] );\n\n          let startRect = target.getBoundingClientRect();\n          let endRect   = element[ 0 ].getBoundingClientRect();\n\n          let startValues = {\n            top  : ( startRect.top + window.scrollY ),\n            left : startRect.left,\n\n            height : startRect.height,\n            width  : startRect.width\n          };\n\n          let endValues = {\n            top  : ( endRect.top + window.scrollY ),\n            left : endRect.left,\n\n            height : endRect.height,\n            width  : endRect.width\n          };\n\n          let transformDiff = {\n            x : 0,\n            y : 0\n          };\n\n          let computedStyle   = window.getComputedStyle( element[ 0 ], null )\n          let transformStyles = computedStyle.getPropertyValue( 'transform' ) ||\n                                window.getComputedStyle( element[ 0 ], null ).getPropertyValue( '-webkit-transform' );\n\n\n          if ( transformStyles && transformStyles !== 'none' ) {\n            let transformValues = transformStyles.replace( /(matrix\\(|\\))/g, '' ).split( ',' )\n\n            transformDiff.x = +transformValues[ 4 ];\n            transformDiff.y = +transformValues[ 5 ];\n          }\n\n          let scaleX = startValues.width / endValues.width;\n          let scaleY = startValues.height / endValues.height;\n\n          let transformRule = 'translate3d(' +\n                                ( startValues.left - endValues.left + transformDiff.x ) + 'px, ' +\n                                ( startValues.top - endValues.top + transformDiff.y ) + 'px,' +\n                                '0 ) ' +\n                              'scale(' + scaleX + ',' + scaleY + ')';\n\n          var listenerFunc = function listener() {\n            element[ 0 ].classList.remove( 'transitionOut' );\n            element[ 0 ].classList.add( 'done' );\n            _setPrefixedProperty( element[ 0 ], 'transform', '' )\n            _setPrefixedProperty( element[ 0 ], 'transformOrigin', '' )\n            element[ 0 ].style.opacity   = '';\n\n\n            element[ 0 ].removeEventListener( 'transitionend', listenerFunc );\n          };\n\n          requestAnimationFrame( () => {\n\n            _setPrefixedProperty( element[ 0 ], 'transform', transformRule );\n            _setPrefixedProperty( element[ 0 ], 'transformOrigin', '0 0' );\n\n            element[ 0 ].style.opacity         = 0.5;\n\n            requestAnimationFrame( () => {\n\n              element[ 0 ].addEventListener( 'transitionend', listenerFunc, false );\n\n              element[ 0 ].classList.add( 'transitionOut' );\n\n              _setPrefixedProperty( element[ 0 ], 'transform', '' )\n              _setPrefixedProperty( element[ 0 ], 'transformOrigin', '.5 .5' )\n              element[ 0 ].style.opacity   = 1;\n            } );\n          } );\n        }\n\n        function open( target, locals ) {\n          return html.then( html => {\n            if ( ! element ) {\n              attach( html, target, locals );\n            }\n          } );\n        }\n\n\n        function close() {\n          if ( ! element ) {\n            return $q.when();\n          }\n\n          let startRect = element[ 0 ].getBoundingClientRect();\n          let endRect   = target.getBoundingClientRect();\n\n          let startValues = {\n            top  : startRect.top,\n            left : startRect.left,\n\n            height : startRect.height,\n            width  : startRect.width\n          };\n\n          let endValues = {\n            top  : endRect.top,\n            left : endRect.left,\n\n            height : endRect.height,\n            width  : endRect.width\n          };\n\n          let transformDiff = {\n            x : 0,\n            y : 0\n          };\n\n          let computedStyle   = window.getComputedStyle( element[ 0 ], null )\n          let transformStyles = computedStyle.getPropertyValue( 'transform' ) ||\n                                computedStyle.getPropertyValue( '-webkit-transform' );\n\n          if ( transformStyles && transformStyles !== 'none' ) {\n            let transformValues = transformStyles.replace( /(matrix\\(|\\))/g, '' ).split( ',' )\n\n            transformDiff.x = +transformValues[ 4 ];\n            transformDiff.y = +transformValues[ 5 ];\n          }\n\n          let transformRule = 'translate3d(' +\n                                ( endValues.left - startValues.left + transformDiff.x ) + 'px , ' +\n                                ( endValues.top - startValues.top +  transformDiff.y ) + 'px,' +\n                                '0 )' +\n                              'scale(' +\n                                ( endValues.width / startValues.width ) + ',' +\n                                ( endValues.height / startValues.height ) + ')';\n\n          element[ 0 ].style.opacity = 1;\n\n          let listenerFunc = function listener() {\n            element[ 0 ].classList.remove( 'transitionIn' );\n            element[ 0 ].classList.add( 'done' );\n            element[ 0 ].style.opacity   = 0;\n\n            element[ 0 ].removeEventListener( 'transitionend', listenerFunc, false );\n\n\n            scope.$destroy();\n            scope = null;\n\n            element.remove();\n            element = null;\n            target  = null;\n          };\n\n          requestAnimationFrame( () => {\n            element[ 0 ].classList.add( 'transitionIn' );\n            element[ 0 ].classList.remove( 'done' );\n\n            _setPrefixedProperty( element[ 0 ], 'transform', transformRule );\n            _setPrefixedProperty( element[ 0 ], 'transformOrigin', '0 0 ' );\n\n            element[ 0 ].style.opacity   = 0;\n\n            element[ 0 ].addEventListener( 'transitionend', listenerFunc, false );\n          } );\n        }\n\n        return {\n          open  : open,\n          close : close\n        };\n      }\n    }\n  }\n\n  ng.module( 'sj.expandingModal', [] )\n      .factory( 'ExpandingModal', [ '$compile', '$rootScope', '$controller', '$q', '$http', '$templateCache', ExpandingModal ] );\n} )( window, window.angular );\n"]}