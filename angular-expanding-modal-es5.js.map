{"version":3,"sources":["angular-expanding-modal.js"],"names":[],"mappings":"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","file":"angular-expanding-modal-es5.js","sourcesContent":["/* global window, requestAnimationFrame */\n\n/*\n * @license\n * angular-expanding-modal v1.0.0\n * License: MIT\n */\n\n( function( window, ng ) {\n  'use strict';\n\n  function ExpandingModal( $compile, $rootScope, $document, $controller, $q, $http, $templateCache ) {\n\n    return class Modal {\n      constructor( config = {} ) {\n        if ( ! ( ! config.template ^ ! config.templateUrl ) ) {\n          throw new Error(\n            'Expected modal to have exacly one of either `template` or `templateUrl`'\n          );\n        }\n\n        config.container = ng.element( config.container || $document[ 0 ].body );\n\n        this._config = config;\n\n        this.close = () => {\n          if ( ! this._element ) {\n            return $q.when();\n          }\n\n          return Modal.detach( this._target, this._element )\n            .then( () => Modal.cleanup( this ) );\n        };\n      }\n\n      open( target, locals ) {\n\n        return $q.when( Modal.html( this._config ) )\n          .then( ( html ) => Modal.attach( this, html, target, locals ) );\n      }\n\n      close () {\n        console.log( 'nothing to close!' );\n      }\n\n\n      /**\n       * Evlaluate config and check if html-string\n       * is included and if not fetch html string\n       * via $http\n       *\n       * @param  {Object}  config config object\n       * @return {Promise}        promise resolving with\n       *                                 html string\n       */\n      static html( { template, templateUrl } = {} ) {\n        if ( template ) {\n          return template;\n        }\n\n        return $http.get( templateUrl, {\n          cache : $templateCache\n        } )\n          .then( ( { data } ) => data );\n      }\n\n      static attach( modal, html, target, locals ) {\n        if ( modal._element ) {\n          return $q.when( modal._element );\n        }\n\n        modal._target = target;\n\n        return Modal.element( html )\n          .then( ( element ) => Modal.compile( modal, element, locals ) )\n          .then( ( element ) => Modal.append( modal, target, element ) )\n          .then( ( element ) => modal._element = element );\n      }\n\n      static element( html ) {\n        const element = ng.element( html );\n\n        if ( element.length === 0 ) {\n          throw new Error(\n            'The template contains no elements; you need to wrap text nodes'\n          );\n        }\n\n        return $q.when( element );\n      }\n\n      static compile( modal, element, locals = {} ) {\n        const scope = $rootScope.$new();\n        const { controller, controllerAs } = modal._config;\n\n        if ( controller ) {\n          locals.$scope = scope;\n\n          const ctrl = $controller( controller, locals );\n\n          if ( controllerAs ) {\n            scope[ controllerAs ] = ctrl;\n          }\n        } else if ( locals ) {\n          for ( let prop in locals ) {\n            scope[ prop ] = locals[ prop ];\n          }\n        }\n\n        modal._scope = scope;\n\n        console.log( scope );\n\n        return $compile( element )( scope );\n      }\n\n      static append( modal, target, element ) {\n        const deferred = $q.defer();\n\n        element[ 0 ].style.opacity = 0;\n\n        modal._config.container.append( element[ 0 ] );\n\n        const startRect = Modal.getBoundingClientRect( target );\n        const endRect   = Modal.getBoundingClientRect( element[ 0 ] );\n\n        startRect.top += window.scrollY;\n        endRect.top   += window.scrollY;\n\n        const transformRule = Modal.getTransformRule( element[ 0 ], startRect, endRect );\n\n        const listenerFunc = () => {\n          element[ 0 ].removeEventListener( 'transitionend', listenerFunc );\n\n          element[ 0 ].classList.remove( 'transitionOut' );\n          element[ 0 ].classList.add( 'done' );\n\n          element[ 0 ].style.opacity   = '';\n          Modal.setPrefixedProperty( element[ 0 ], 'transform', '' );\n          Modal.setPrefixedProperty( element[ 0 ], 'transformOrigin', '' );\n\n          deferred.resolve( element );\n        };\n\n        requestAnimationFrame( () => {\n          Modal.setPrefixedProperty( element[ 0 ], 'transform', transformRule );\n          Modal.setPrefixedProperty( element[ 0 ], 'transformOrigin', '0 0' );\n\n          element[ 0 ].style.opacity         = 0.25;\n\n          requestAnimationFrame( function () {\n            element[ 0 ].addEventListener( 'transitionend', listenerFunc, false );\n\n            element[ 0 ].classList.add( 'transitionOut' );\n\n            element[ 0 ].style.opacity = 1;\n            Modal.setPrefixedProperty( element[ 0 ], 'transform', '' );\n            Modal.setPrefixedProperty( element[ 0 ], 'transformOrigin', '.5 .5' );\n          } );\n        } );\n\n        return deferred.promise;\n      }\n\n      static detach( target, element ) {\n        const deferred = $q.defer();\n\n        const endRect = Modal.getBoundingClientRect( element[ 0 ] );\n        const startRect   = Modal.getBoundingClientRect( target );\n\n        const transformRule = Modal.getTransformRule( element[ 0 ], startRect, endRect );\n\n        element[ 0 ].style.opacity = 1;\n\n        const listenerFunc = () => {\n          element[ 0 ].removeEventListener( 'transitionend', listenerFunc, false );\n\n          element[ 0 ].classList.remove( 'transitionIn' );\n          element[ 0 ].classList.add( 'done' );\n\n          element[ 0 ].style.opacity = 0;\n\n          deferred.resolve( element );\n        };\n\n        requestAnimationFrame( () => {\n          element[ 0 ].addEventListener( 'transitionend', listenerFunc, false );\n\n          element[ 0 ].classList.add( 'transitionIn' );\n          element[ 0 ].classList.remove( 'done' );\n\n          element[ 0 ].style.opacity = 0;\n          Modal.setPrefixedProperty( element[ 0 ], 'transform', transformRule );\n          Modal.setPrefixedProperty( element[ 0 ], 'transformOrigin', '0 0 ' );\n        } );\n\n        return deferred.promise;\n      }\n\n      static cleanup( modal ) {\n        modal._scope.$destroy();\n        modal._scope = null;\n\n        modal._element.remove();\n        modal._element = null;\n\n        modal._target  = null;\n\n        return true;\n      }\n\n      static getBoundingClientRect( element ) {\n        const box = element.getBoundingClientRect();\n\n        return {\n          top    : box.top,\n          left   : box.left,\n          width  : box.width,\n          height : box.height\n        };\n      }\n\n      static setPrefixedProperty( element, prop, value ) {\n        element.style[ prop ] = value;\n        element.style[ '-webkit-' + prop ] = value;\n      }\n\n      static getTransformRule( element, startRect, endRect ) {\n        const transformDiff = {\n          x : 0,\n          y : 0\n        };\n\n        const computedStyle   = window.getComputedStyle( element, null );\n        const transformStyles = computedStyle.getPropertyValue( 'transform' ) ||\n                                computedStyle.getPropertyValue( '-webkit-transform' );\n\n        if ( transformStyles && transformStyles !== 'none' ) {\n          const [,,,, x, y ] = transformStyles.replace( /(matrix\\(|\\))/g, '' ).split( ',' );\n\n          transformDiff.x = + x;\n          transformDiff.y = + y;\n        }\n\n        const scale = {\n          x : startRect.width / endRect.width,\n          y : startRect.height / endRect.height\n        };\n\n        const translate = {\n          x : startRect.left - endRect.left + transformDiff.x,\n          y : startRect.top - endRect.top + transformDiff.y\n        };\n\n        return `translate3d( ${translate.x}px,${translate.y}px,0 ) scale( ${scale.x},${scale.y} )`;\n      }\n    };\n  }\n\n  ng.module( 'sj.expandingModal', [] )\n      .factory( 'ExpandingModal', [ '$compile', '$rootScope', '$document', '$controller', '$q', '$http', '$templateCache', ExpandingModal ] );\n} )( window, window.angular );\n"]}