{"version":3,"sources":["angular-expanding-modal.js"],"names":[],"mappings":"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","file":"angular-expanding-modal-es5.js","sourcesContent":["/* global window, requestAnimationFrame */\n\n/*\n * @license\n * angular-expanding-modal v1.0.0\n * License: MIT\n */\n\n( function( window, ng ) {\n  'use strict';\n\n  function ExpandingModal( $compile, $rootScope, $document, $controller, $q, $http, $templateCache ) {\n    return {\n      /**\n       * Factory function to create new modal instance\n       *\n       * @param  {Object} config config\n       * @return {Object}        modal\n       */\n      create : config => {\n        if ( ! ( ! config.template ^ ! config.templateUrl ) ) {\n          throw new Error(\n            'Expected modal to have exacly one of either `template` or `templateUrl`'\n          );\n        }\n\n        let container     = ng.element( config.container || $document[ 0 ].body );\n        let controller    = config.controller || null;\n        let controllerAs  = config.controllerAs;\n        let element       = null;\n        let html          = _getHtmlString( config );\n        let target;\n        let scope;\n\n\n        /**\n         * Evlaluate config and check if html-string\n         * is included and if not fetch html string\n         * via $http\n         *\n         * @param  {Object}         config config\n         * @return {String|Promise}        promise resolving with\n         *                                 html string\n         */\n        function _getHtmlString( config ) {\n          if ( config.template ) {\n            html = $q.when( config.template );\n          } else {\n            html = $http.get( config.templateUrl, {\n              cache : $templateCache\n            } ).then( function ( response ) {\n              return response.data;\n            } );\n          }\n\n          return html;\n        }\n\n\n        /**\n         * Helper function to set property with\n         * vendor prefixes to elemnets\n         *\n         * @param {Object} element DOM element\n         * @param {Sring}  prop    property name\n         * @param {String} value   property value\n         */\n        function _setPrefixedProperty( element, prop, value ) {\n          element.style[ prop ] = value;\n          element.style[ '-webkit-' + prop ] = value;\n        }\n\n\n        /**\n         * Attach the modal to the DOM\n         *\n         * @param  {String} html       html\n         * @param  {Object} targetElem target element\n         * @param  {Object} locals     locals\n         */\n        function attach( html, targetElem, locals = {} ) {\n          target = targetElem;\n\n          element = ng.element( html );\n\n          if ( element.length === 0 ) {\n            throw new Error(\n              'The template contains no elements; you need to wrap text nodes'\n            );\n          }\n          scope = $rootScope.$new();\n\n          if ( controller ) {\n            locals.$scope = scope;\n\n            var ctrl = $controller( controller, locals );\n\n            if ( controllerAs ) {\n              scope[ controllerAs ] = ctrl;\n            }\n          } else if ( locals ) {\n            for ( let prop in locals ) {\n              scope[ prop ] = locals[ prop ];\n            }\n          }\n\n          $compile( element )( scope );\n\n          element[ 0 ].style.opacity = 0;\n\n          container.append( element[ 0 ] );\n\n          let startRect = target.getBoundingClientRect();\n          let endRect   = element[ 0 ].getBoundingClientRect();\n\n          let startValues = {\n            top  : ( startRect.top + window.scrollY ),\n            left : startRect.left,\n\n            height : startRect.height,\n            width  : startRect.width\n          };\n\n          let endValues = {\n            top  : ( endRect.top + window.scrollY ),\n            left : endRect.left,\n\n            height : endRect.height,\n            width  : endRect.width\n          };\n\n          let transformDiff = {\n            x : 0,\n            y : 0\n          };\n\n          let computedStyle   = window.getComputedStyle( element[ 0 ], null );\n          let transformStyles = computedStyle.getPropertyValue( 'transform' ) ||\n                                window.getComputedStyle( element[ 0 ], null ).getPropertyValue( '-webkit-transform' );\n\n\n          if ( transformStyles && transformStyles !== 'none' ) {\n            let transformValues = transformStyles.replace( /(matrix\\(|\\))/g, '' ).split( ',' );\n\n            transformDiff.x = + transformValues[ 4 ];\n            transformDiff.y = + transformValues[ 5 ];\n          }\n\n          let scaleX = startValues.width / endValues.width;\n          let scaleY = startValues.height / endValues.height;\n\n          let transformRule = 'translate3d(' +\n                                ( startValues.left - endValues.left + transformDiff.x ) + 'px, ' +\n                                ( startValues.top - endValues.top + transformDiff.y ) + 'px,' +\n                                '0 ) ' +\n                              'scale(' + scaleX + ',' + scaleY + ')';\n\n          var listenerFunc = function listener() {\n            element[ 0 ].classList.remove( 'transitionOut' );\n            element[ 0 ].classList.add( 'done' );\n            _setPrefixedProperty( element[ 0 ], 'transform', '' );\n            _setPrefixedProperty( element[ 0 ], 'transformOrigin', '' );\n            element[ 0 ].style.opacity   = '';\n\n\n            element[ 0 ].removeEventListener( 'transitionend', listenerFunc );\n          };\n\n\n          _setPrefixedProperty( element[ 0 ], 'transform', transformRule );\n          _setPrefixedProperty( element[ 0 ], 'transformOrigin', '0 0' );\n\n          element[ 0 ].style.opacity         = 0.25;\n\n          requestAnimationFrame( () => {\n\n            element[ 0 ].addEventListener( 'transitionend', listenerFunc, false );\n\n            element[ 0 ].classList.add( 'transitionOut' );\n\n            _setPrefixedProperty( element[ 0 ], 'transform', '' );\n            _setPrefixedProperty( element[ 0 ], 'transformOrigin', '.5 .5' );\n            element[ 0 ].style.opacity   = 1;\n          } );\n        }\n\n\n        /**\n         * Open the modal\n         *\n         * @param  {Object} target target element\n         * @param  {Object} locals locals\n         */\n        function open( target, locals ) {\n          return html.then( html => {\n            if ( ! element ) {\n              attach( html, target, locals );\n            }\n          } );\n        }\n\n\n        /**\n         * Close the modals and remove it from the DOM\n         */\n        function close() {\n          if ( ! element ) {\n            return $q.when();\n          }\n\n          let startRect = element[ 0 ].getBoundingClientRect();\n          let endRect   = target.getBoundingClientRect();\n\n          let startValues = {\n            top  : startRect.top,\n            left : startRect.left,\n\n            height : startRect.height,\n            width  : startRect.width\n          };\n\n          let endValues = {\n            top  : endRect.top,\n            left : endRect.left,\n\n            height : endRect.height,\n            width  : endRect.width\n          };\n\n          let transformDiff = {\n            x : 0,\n            y : 0\n          };\n\n          let computedStyle   = window.getComputedStyle( element[ 0 ], null );\n          let transformStyles = computedStyle.getPropertyValue( 'transform' ) ||\n                                computedStyle.getPropertyValue( '-webkit-transform' );\n\n          if ( transformStyles && transformStyles !== 'none' ) {\n            let transformValues = transformStyles.replace( /(matrix\\(|\\))/g, '' ).split( ',' );\n\n            transformDiff.x = + transformValues[ 4 ];\n            transformDiff.y = + transformValues[ 5 ];\n          }\n\n          let transformRule = 'translate3d(' +\n                                ( endValues.left - startValues.left + transformDiff.x ) + 'px , ' +\n                                ( endValues.top - startValues.top +  transformDiff.y ) + 'px,' +\n                                '0 )' +\n                              'scale(' +\n                                ( endValues.width / startValues.width ) + ',' +\n                                ( endValues.height / startValues.height ) + ')';\n\n          element[ 0 ].style.opacity = 1;\n\n          let listenerFunc = function listener() {\n            element[ 0 ].classList.remove( 'transitionIn' );\n            element[ 0 ].classList.add( 'done' );\n            element[ 0 ].style.opacity   = 0;\n\n            element[ 0 ].removeEventListener( 'transitionend', listenerFunc, false );\n\n\n            scope.$destroy();\n            scope = null;\n\n            element.remove();\n            element = null;\n            target  = null;\n          };\n\n          requestAnimationFrame( () => {\n            element[ 0 ].classList.add( 'transitionIn' );\n            element[ 0 ].classList.remove( 'done' );\n\n            _setPrefixedProperty( element[ 0 ], 'transform', transformRule );\n            _setPrefixedProperty( element[ 0 ], 'transformOrigin', '0 0 ' );\n\n            element[ 0 ].style.opacity   = 0;\n\n            element[ 0 ].addEventListener( 'transitionend', listenerFunc, false );\n          } );\n        }\n\n        return {\n          open  : open,\n          close : close\n        };\n      }\n    };\n  }\n\n  ng.module( 'sj.expandingModal', [] )\n      .factory( 'ExpandingModal', [ '$compile', '$rootScope', '$document', '$controller', '$q', '$http', '$templateCache', ExpandingModal ] );\n} )( window, window.angular );\n"]}